# 택배 상자 꺼내기

> 🔗 문제 링크: [바로가기](https://school.programmers.co.kr/learn/courses/30/lessons/389478) 

## 🌱 문제 설명
1 ~ n의 번호가 있는 택배 상자가 창고에 있다. 택배 상자들은 다음과 같이 정리된다.

왼쪽에서 오른쪽으로 1번 상자부터 번호 순서대로 택배 상자를 한 개씩 놓는다. 가로로 택배 상자를 w개 놓았다면 이번에는 오른쪽에서 왼쪽으로 가면서 그 위층에 택배 상자를 1개씩 놓는다. 가장 왼쪽까지 놓았다면 다시 그 위층에 왼쪽에서 오른쪽으로 가면서 상자를 놓는다. 이런 방식으로 n개의 상자를 모두 쌓게 된다.

손님이 택배를 찾으러 창고에 와서 택배 번호를 말하면 해당 상자를 꺼내주어야 한다. 택배 상자 A를 꺼내려면 A의 위에 있는 상자들을 모두 꺼내야 A를 꺼낼 수 있다. 꺼내려는 상자 번호가 주어졌을 때, 꺼내려는 상자를 포함해 총 몇 개의 택배 상자를 꺼내야 하는지 알아야 한다.

창고에 있는 택배 상자의 개수를 나타내는 정수 `n`, 가로로 놓는 상자의 개수를 나타내는 정수 `w`, 꺼내려는 택배 상자의 번호를 나타내는 정수 `num`이 매개변수로 주어질 때, 꺼내야 하는 상자의 총 개수를 return 하는 함수를 작성하는 문제.

## 🤔 접근 방식
- 각 열마다 몇개의 상자가 있는지 계산 후 해당하는 택배 상자의 위치를 구해서 꺼내야하는 상자의 개수를 계산한다. (1번 풀이)
- n개의 상자를 모두 쌓으며 해당하는 택배 상자의 위치를 정확히 구한 후에 꺼내야하는 상자의 개수를 계산한다. (2번 풀이)

## 💡 주요 포인트

### 1번 풀이
- 각 열마다 쌓아둔 상자의 개수를 저장할 배열 `totalStacks`를 생성하여 n을 w로 나눈 몫으로 초기화한다.
- n을 w로 나눈 나머지만큼에 1칸씩 더 넣어주어 배열을 완성한다. 이 때, 층 수가 짝수인 경우 거꾸로 쌓이기 때문에 끝에서부터 더해준다.
  ```js
  if(Math.floor(n/w) % 2 !== 0) {
      for(let i=w-1; i>=w-remains; i--) {
          totalStacks[i] += 1;
      }
  } else {
      for(let i=0; i<remains; i++) {
          totalStacks[i] += 1;
      }
  }
  ```
- 꺼내야 하는 택배 상자의 x좌표 `targetRemains`와 y좌표 `targetFloor`를 구한다.
- 만약 targetFloor와 총 쌓여있는 택배 상자들의 높이가 같으면 (꺼내야 하는 택배가 맨 위에 있는 경우) 1개만 꺼내면 되므로 1을 반환한다.
- 아닌 경우 빼야 하는 택배의 x좌표를 찾아 해당 열의 높이에서 빼야 하는 택배의 높이를 뺀 후 1을 더해준다.
  ```js
  if(targetFloor % 2 === 0) {
      return totalStacks[w-targetRemains-1] - targetFloor + 1;
  } else {
      return totalStacks[targetRemains] - targetFloor + 1;
  }
  ```

### 2번 풀이
- 반복문을 돌면서 1부터 n까지 전부 이차원 배열에 넣는다. 이 때, 짝수번째 행이면 내부 배열을 `reverse` 시켜서 넣는다.
  ```js
  for (let i = 0; i < Math.ceil(n / w); i++) {
    let row = [];
    for (let j = 0; j < w; j++) {
      if (count > n) {
        row.push(null);
      } else {
        row.push(count);
      }
      if (count === num) {
        x = Math.ceil(count / w) % 2 === 0 ? w - j - 1 : j;
        y = i;
      }
      count++;
    }

    if (i % 2 === 1) {
      row.reverse();
    }
    arr.push(row);
  }
  ```
  또한, 넣어주는 숫자가 빼야 하는 택배 숫자와 같은 경우 좌표를 저장한다. 이 때도 짝수번째 행일 경우 x좌표를 거꾸로 계산해준다. n보다 큰 부분은 `null`을 넣는다.
- 택배 상자가 맨 위에 있을 경우 1을 반환한다.
- x좌표 열의 맨 위에 있는 데이터가 `null`인 경우 총 높이에서 빼야하는 택배 숫자의 y좌표를 빼고 1을 더 빼준다. `null`이 아닌 경우 y좌표만 빼준다.
  ```js
  if (arr[arr.length - 1][x] === null) {
    return arr.length - y - 1;
  } else {
    return arr.length - y;
  }
  ```